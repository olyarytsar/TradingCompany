<Window x:Class="TradingCompany.WPF.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:TradingCompany.WPF.ViewModels"
        xmlns:local="clr-namespace:TradingCompany.WPF.Windows"
        mc:Ignorable="d"
        Title="Trading Company" Height="750" Width="1200"
        WindowState="Maximized" WindowStartupLocation="CenterScreen"
        Background="{StaticResource PrimaryBlueBrush}">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>

        <DataTemplate DataType="{x:Type vm:LoginViewModel}">
            <local:LoginView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:WarehouseManagerViewModel}">
            <local:WarehouseView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:CreateOrderViewModel}">
            <local:CreateOrderView />
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ActiveOrdersViewModel}">
            <local:ActiveOrdersView />
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="White" CornerRadius="0,20,20,0" Margin="0,0,15,0" Width="260"
                Visibility="{Binding IsLoggedIn, Converter={StaticResource BooleanToVisibilityConverter}}">
            <Border.Effect>
                <DropShadowEffect BlurRadius="15" Opacity="0.1" ShadowDepth="5" Color="#1565C0"/>
            </Border.Effect>
            <StackPanel Margin="20">
                <TextBlock Text="Trading Company" FontSize="26" FontWeight="Bold" 
                           Foreground="{StaticResource DarkTextBrush}" 
                           HorizontalAlignment="Center" Margin="0,30,0,10"/>

                <TextBlock Text="{Binding CurrentUser.FirstName, StringFormat='Manager: {0}'}" 
                           HorizontalAlignment="Center" Margin="0,0,0,40" Foreground="Gray" FontSize="14"/>

                <Button Content="Products" Command="{Binding NavigateToWarehouseCommand}" Height="55" Margin="0,8"/>
                <Button Content="New order" Command="{Binding NavigateToCreateOrderCommand}" Height="55" Margin="0,8"/>
                <Button Content="Active orders" Command="{Binding NavigateToActiveOrdersCommand}" Height="55" Margin="0,8"/>

                <Separator Margin="10,40" Background="{StaticResource PrimaryBlueBrush}"/>

                <Button Content="Logout" Command="{Binding LogoutCommand}" Background="#FFEBEE" Foreground="{StaticResource ErrorBrush}" Height="50"/>
            </StackPanel>
        </Border>

        <Border Grid.Column="1" Background="White" CornerRadius="20" Margin="0,15,15,15" Padding="0">
            <Border.Effect>
                <DropShadowEffect BlurRadius="15" Opacity="0.05"/>
            </Border.Effect>

            <ContentControl Content="{Binding CurrentViewModel}" />
        </Border>
    </Grid>
</Window>